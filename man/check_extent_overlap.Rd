% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extent_checks.R
\name{check_extent_overlap}
\alias{check_extent_overlap}
\title{Check if user extent overlaps with WRI data extent}
\usage{
check_extent_overlap(user_extent, wri_extent = fedex::wri_extent$epsg_5070)
}
\arguments{
\item{user_extent}{terra::SpatExtent object in EPSG:5070 (Albers meters).
Typically from \code{validate_bbox()$bbox_5070} or
\code{sf::st_bbox(shapefile) |> terra::ext()}}

\item{wri_extent}{terra::SpatExtent object in EPSG:5070. Defaults to
\code{fedex::wri_extent$epsg_5070} (the package data object).}
}
\value{
List with 5 elements:
\describe{
\item{overlaps}{Logical. TRUE if any overlap, FALSE if none.}
\item{overlap_type}{Character. One of "none", "partial", "full".}
\item{overlap_pct}{Numeric. Percentage of user extent covered (0-100).}
\item{intersection}{terra::SpatExtent. The overlapping region (or NULL
if no overlap).}
\item{message}{Character. Human-readable description of overlap status.}
}
}
\description{
Determines whether a user-provided extent (bounding box or shapefile bbox)
overlaps with the WRI data extent, and if so, by how much. This prevents
attempting to download data for regions with no coverage.
}
\details{
\strong{Overlap types:}
\itemize{
\item \strong{none} (0\%): No overlap. Data download will fail.
\item \strong{partial} (<99.9\%): Some overlap. User will get partial data.
\item \strong{full} (≥99.9\%): Complete overlap. User gets full requested area.
}

\strong{Why check overlap?}
\itemize{
\item Prevents confusing errors from terra::crop()
\item Gives users informative messages BEFORE downloading
\item Helps users adjust their bounding box if needed
}

\strong{Overlap percentage calculation:}
Calculates what percentage of the user's requested area is covered by
WRI data. If user requests 1000 km² but only 500 km² is covered, that's 50\%.
}
\examples{
\dontrun{
# Check a bbox in San Francisco (should fully overlap)
bbox_sf <- validate_bbox(c(-122, 37, -121, 38))
overlap <- check_extent_overlap(bbox_sf$bbox_5070)
overlap$overlap_type  # "full"
overlap$overlap_pct   # ~100

# Check a bbox in Alaska (may not overlap or partially overlap)
bbox_ak <- validate_bbox(c(-150, 60, -149, 61))
overlap <- check_extent_overlap(bbox_ak$bbox_5070)
overlap$overlap_type  # Could be "none" or "partial"

# Check a bbox completely outside WRI coverage
bbox_europe <- validate_bbox(c(0, 45, 10, 55))
overlap <- check_extent_overlap(bbox_europe$bbox_5070)
overlap$overlaps      # FALSE
overlap$overlap_type  # "none"
}

}
